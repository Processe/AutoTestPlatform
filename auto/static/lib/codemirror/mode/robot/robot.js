// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("robot", function() {

  var cons = ['true', 'false', 'on', 'off', 'yes', 'no'];
  var keywordRegex = new RegExp("\\b(("+cons.join(")|(")+"))$", 'i');

  function RobotKeywordRegexp(words) {
    return new RegExp("^((\\s{4}" + words.join(")|(") + "))\\b");
  }

  // 高亮关键字
  var rf_BuiltIn=['Call Method','Catenate','Comment','Continue For Loop','Continue For Loop If','Convert To Binary','Convert To Boolean','Convert To Bytes','Convert To Hex','Convert To Integer','Convert To Number','Convert To Octal','Convert To String','Create Dictionary','Create List','Evaluate','Exit For Loop','Exit For Loop If','Fail','Fatal Error','Get Count','Get Length','Get Library Instance','Get Time','Get Variable Value','Get Variables','Import Library','Import Resource','Import Variables','Keyword Should Exist','Length Should Be','Log','Log Many','Log To Console','Log Variables','No Operation','Pass Execution','Pass Execution If','Regexp Escape','Reload Library','Remove Tags','Repeat Keyword','Replace Variables','Return From Keyword','Return From Keyword If','Run Keyword','Run Keyword And Continue On Failure','Run Keyword And Expect Error','Run Keyword And Ignore Error','Run Keyword And Return','Run Keyword And Return If','Run Keyword And Return Status','Run Keyword If','Run Keyword If All Critical Tests Passed','Run Keyword If All Tests Passed','Run Keyword If Any Critical Tests Failed','Run Keyword If Any Tests Failed','Run Keyword If Test Failed','Run Keyword If Test Passed','Run Keyword If Timeout Occurred','Run Keyword Unless','Run Keywords','Set Global Variable','Set Library Search Order','Set Log Level','Set Suite Documentation','Set Suite Metadata','Set Suite Variable','Set Tags','Set Test Documentation','Set Test Message','Set Test Variable','Set Variable','Set Variable If','Should Be Empty','Should Be Equal','Should Be Equal As Integers','Should Be Equal As Numbers','Should Be Equal As Strings','Should Be True','Should Contain','Should Contain Any','Should Contain X Times','Should End With','Should Match','Should Match Regexp','Should Not Be Empty','Should Not Be Equal','Should Not Be Equal As Integers','Should Not Be Equal As Numbers','Should Not Be Equal As Strings','Should Not Be True','Should Not Contain','Should Not Contain Any','Should Not End With','Should Not Match','Should Not Match Regexp','Should Not Start With','Should Start With','Sleep','Variable Should Exist','Variable Should Not Exist','Wait Until Keyword Succeeds'];
  var rf_Collections=['Append To List','Combine Lists','Convert To Dictionary','Convert To List','Copy Dictionary','Copy List','Count Values In List','Dictionaries Should Be Equal','Dictionary Should Contain Item','Dictionary Should Contain Key','Dictionary Should Contain Sub Dictionary','Dictionary Should Contain Value','Dictionary Should Not Contain Key','Dictionary Should Not Contain Value','Get Dictionary Items','Get Dictionary Keys','Get Dictionary Values','Get From Dictionary','Get From List','Get Index From List','Get Match Count','Get Matches','Get Slice From List','Insert Into List','Keep In Dictionary','List Should Contain Sub List','List Should Contain Value','List Should Not Contain Duplicates','List Should Not Contain Value','Lists Should Be Equal','Log Dictionary','Log List','Pop From Dictionary','Remove Duplicates','Remove From Dictionary','Remove From List','Remove Values From List','Reverse List','Set List Value','Set To Dictionary','Should Contain Match','Should Not Contain Match','Sort List'];
  var rf_String=['Convert To Lowercase','Convert To Uppercase','Decode Bytes To String','Encode String To Bytes','Fetch From Left','Fetch From Right','Generate Random String','Get Line','Get Line Count','Get Lines Containing String','Get Lines Matching Pattern','Get Lines Matching Regexp','Get Regexp Matches','Get Substring','Remove String','Remove String Using Regexp','Replace String','Replace String Using Regexp','Should Be Byte String','Should Be Lowercase','Should Be String','Should Be Titlecase','Should Be Unicode String','Should Be Uppercase','Should Not Be String','Split String','Split String From Right','Split String To Characters','Split To Lines','Strip String'];
  var rf_Screenshot=['Set Screenshot Directory','Take Screenshot','Take Screenshot Without Embedding'];
  var rf_DateTime=['Add Time To Date','Add Time To Time','Convert Date','Convert Time','Get Current Date','Subtract Date From Date','Subtract Time From Date','Subtract Time From Time'];
  var rf_SeleniumLibrary=['Add Cookie','Add Location Strategy','Alert Should Be Present','Alert Should Not Be Present','Assign Id To Element','Capture Page Screenshot','Checkbox Should Be Selected','Checkbox Should Not Be Selected','Choose Cancel On Next Confirmation','Choose File','Choose Ok On Next Confirmation','Clear Element Text','Click Button','Click Element','Click Element At Coordinates','Click Image','Click Link','Close All Browsers','Close Browser','Close Window','Confirm Action','Create Webdriver','Current Frame Contains','Current Frame Should Contain','Current Frame Should Not Contain','Delete All Cookies','Delete Cookie','Dismiss Alert','Double Click Element','Drag And Drop','Drag And Drop By Offset','Element Should Be Disabled','Element Should Be Enabled','Element Should Be Focused','Element Should Be Visible','Element Should Contain','Element Should Not Be Visible','Element Should Not Contain','Element Text Should Be','Element Text Should Not Be','Execute Async Javascript','Execute Javascript','Focus','Frame Should Contain','Get Alert Message','Get All Links','Get Cookie','Get Cookie Value','Get Cookies','Get Element Attribute','Get Element Count','Get Element Size','Get Horizontal Position','Get List Items','Get Location','Get Locations','Get Matching Xpath Count','Get Selected List Label','Get Selected List Labels','Get Selected List Value','Get Selected List Values','Get Selenium Implicit Wait','Get Selenium Speed','Get Selenium Timeout','Get Source','Get Table Cell','Get Text','Get Title','Get Value','Get Vertical Position','Get WebElement','Get WebElements','Get Window Handles','Get Window Identifiers','Get Window Names','Get Window Position','Get Window Size','Get Window Titles','Go Back','Go To','Handle Alert','Input Password','Input Text','Input Text Into Alert','Input Text Into Prompt','List Selection Should Be','List Should Have No Selections','List Windows','Location Should Be','Location Should Contain','Locator Should Match X Times','Log Location','Log Source','Log Title','Maximize Browser Window','Mouse Down','Mouse Down On Image','Mouse Down On Link','Mouse Out','Mouse Over','Mouse Up','Open Browser','Open Context Menu','Page Should Contain','Page Should Contain Button','Page Should Contain Checkbox','Page Should Contain Element','Page Should Contain Image','Page Should Contain Link','Page Should Contain List','Page Should Contain Radio Button','Page Should Contain Textfield','Page Should Not Contain','Page Should Not Contain Button','Page Should Not Contain Checkbox','Page Should Not Contain Element','Page Should Not Contain Image','Page Should Not Contain Link','Page Should Not Contain List','Page Should Not Contain Radio Button','Page Should Not Contain Textfield','Press Key','Radio Button Should Be Set To','Radio Button Should Not Be Selected','Register Keyword To Run On Failure','Reload Page','Remove Location Strategy','Select All From List','Select Checkbox','Select Frame','Select From List','Select From List By Index','Select From List By Label','Select From List By Value','Select Radio Button','Select Window','Set Browser Implicit Wait','Set Focus To Element','Set Screenshot Directory','Set Selenium Implicit Wait','Set Selenium Speed','Set Selenium Timeout','Set Window Position','Set Window Size','Simulate','Simulate Event','Submit Form','Switch Browser','Table Cell Should Contain','Table Column Should Contain','Table Footer Should Contain','Table Header Should Contain','Table Row Should Contain','Table Should Contain','Textarea Should Contain','Textarea Value Should Be','Textfield Should Contain','Textfield Value Should Be','Title Should Be','Unselect All From List','Unselect Checkbox','Unselect Frame','Unselect From List','Unselect From List By Index','Unselect From List By Label','Unselect From List By Value','Wait For Condition','Wait Until Element Contains','Wait Until Element Does Not Contain','Wait Until Element Is Enabled','Wait Until Element Is Not Visible','Wait Until Element Is Visible','Wait Until Page Contains','Wait Until Page Contains Element','Wait Until Page Does Not Contain','Wait Until Page Does Not Contain Element','Xpath Should Match X Times'];
  var rf_AppiumLibrary=['Background App','Capture Page Screenshot','Clear Text','Click A Point','Click Button','Click Element','Click Element At Coordinates','Click Text','Close All Applications','Close Application','Element Attribute Should Match','Element Name Should Be','Element Should Be Disabled','Element Should Be Enabled','Element Should Be Visible','Element Should Contain Text','Element Should Not Contain Text','Element Text Should Be','Element Value Should Be','Get Activity','Get Appium SessionId','Get Appium Timeout','Get Capability','Get Contexts','Get Current Context','Get Element Attribute','Get Element Location','Get Element Size','Get Matching Xpath Count','Get Network Connection Status','Get Source','Get Text','Get Webelement','Get Webelements','Get Window Height','Get Window Width','Go Back','Go To Url','Hide Keyboard','Input Password','Input Text','Input Value','Install App','Landscape','Launch Application','Lock','Log Source','Long Press','Long Press Keycode','Open Application','Page Should Contain Element','Page Should Contain Text','Page Should Not Contain Element','Page Should Not Contain Text','Pinch','Portrait','Press Keycode','Pull File','Pull Folder','Push File','Quit Application','Register Keyword To Run On Failure','Remove Application','Reset Application','Scroll','Scroll Down','Scroll Up','Set Appium Timeout','Set Network Connection Status','Shake','Start Activity','Swipe','Swipe By Percent','Switch Application','Switch To Context','Tap','Text Should Be Visible','Wait Activity','Wait Until Element Is Visible','Wait Until Page Contains','Wait Until Page Contains Element','Wait Until Page Does Not Contain','Wait Until Page Does Not Contain Element','Xpath Should Match X Times','Zoom'];
  var rf_RequestsLibrary=['Create Digest Session','Create Ntlm Session','Create Session','Delete','Delete All Sessions','Delete Request','Get','Get Request','Head','Head Request','Options','Options Request','Patch','Patch Request','Post','Post Request','Put','Put Request','To Json'];
  var rf_Process=['Get Process Id','Get Process Object','Get Process Result','Is Process Running','Join Command Line','Process Should Be Running','Process Should Be Stopped','Run Process','Send Signal To Process','Split Command Line','Start Process','Switch Process','Terminate All Processes','Terminate Process','Wait For Process'];
  var rf_Telnet=['Close All Connections','Close Connection','Execute Command','Login','Open Connection','Read','Read Until','Read Until Prompt','Read Until Regexp','Set Default Log Level','Set Encoding','Set Newline','Set Prompt','Set Telnetlib Log Level','Set Timeout','Switch Connection','Write','Write Bare','Write Control Character','Write Until Expected Output'];
  var rf_OperatingSystem=['Append To Environment Variable','Append To File','Copy Directory','Copy File','Copy Files','Count Directories In Directory','Count Files In Directory','Count Items In Directory','Create Binary File','Create Directory','Create File','Directory Should Be Empty','Directory Should Exist','Directory Should Not Be Empty','Directory Should Not Exist','Empty Directory','Environment Variable Should Be Set','Environment Variable Should Not Be Set','File Should Be Empty','File Should Exist','File Should Not Be Empty','File Should Not Exist','Get Binary File','Get Environment Variable','Get Environment Variables','Get File','Get File Size','Get Modified Time','Grep File','Join Path','Join Paths','List Directories In Directory','List Directory','List Files In Directory','Log Environment Variables','Log File','Move Directory','Move File','Move Files','Normalize Path','Remove Directory','Remove Environment Variable','Remove File','Remove Files','Run','Run And Return Rc','Run And Return Rc And Output','Set Environment Variable','Set Modified Time','Should Exist','Should Not Exist','Split Extension','Split Path','Touch','Wait Until Created','Wait Until Removed'];
  var rf_lym_keywords = rf_BuiltIn.concat(rf_Collections,
    rf_String,
    rf_Screenshot,
    rf_DateTime,
    rf_SeleniumLibrary,
    rf_AppiumLibrary,
    rf_RequestsLibrary,
    rf_Process,
    rf_Telnet,
    rf_OperatingSystem
    );
  var robot_keywords_reg = RobotKeywordRegexp(rf_lym_keywords);

  // 智能提示

  var rf_BuiltIn_args = ['Call Method	[object]	[method_name]	[*args]	[**kwargs]','Catenate	[*items]','Comment	[*messages]','Continue For Loop','Continue For Loop If	[condition]','Convert To Binary	[item]	[base=None]	[prefix=None]	[length=None]','Convert To Boolean	[item]','Convert To Bytes	[input]	[input_type=text]','Convert To Hex	[item]	[base=None]	[prefix=None]	[length=None]	[lowercase=False]','Convert To Integer	[item]	[base=None]','Convert To Number	[item]	[precision=None]','Convert To Octal	[item]	[base=None]	[prefix=None]	[length=None]','Convert To String	[item]','Create Dictionary	[*items]','Create List	[*items]','Evaluate	[expression]	[modules=None]	[namespace=None]','Exit For Loop','Exit For Loop If	[condition]','Fail	[msg=None]	[*tags]','Fatal Error	[msg=None]','Get Count	[item1]	[item2]','Get Length	[item]','Get Library Instance	[name=None]	[all=False]','Get Time	[format=timestamp]	[time_=NOW]','Get Variable Value	[name]	[default=None]','Get Variables	[no_decoration=False]','Import Library	[name]	[*args]','Import Resource	[path]','Import Variables	[path]	[*args]','Keyword Should Exist	[name]	[msg=None]','Length Should Be	[item]	[length]	[msg=None]','Log	[message]	[level=INFO]	[html=False]	[console=False]	[repr=False]','Log Many	[*messages]','Log To Console	[message]	[stream=STDOUT]	[no_newline=False]','Log Variables	[level=INFO]','No Operation','Pass Execution	[message]	[*tags]','Pass Execution If	[condition]	[message]	[*tags]','Regexp Escape	[*patterns]','Reload Library	[name_or_instance]','Remove Tags	[*tags]','Repeat Keyword	[repeat]	[name]	[*args]','Replace Variables	[text]','Return From Keyword	[*return_values]','Return From Keyword If	[condition]	[*return_values]','Run Keyword	[name]	[*args]','Run Keyword And Continue On Failure	[name]	[*args]','Run Keyword And Expect Error	[expected_error]	[name]	[*args]','Run Keyword And Ignore Error	[name]	[*args]','Run Keyword And Return	[name]	[*args]','Run Keyword And Return If	[condition]	[name]	[*args]','Run Keyword And Return Status	[name]	[*args]','Run Keyword If	[condition]	[name]	[*args]','Run Keyword If All Critical Tests Passed	[name]	[*args]','Run Keyword If All Tests Passed	[name]	[*args]','Run Keyword If Any Critical Tests Failed	[name]	[*args]','Run Keyword If Any Tests Failed	[name]	[*args]','Run Keyword If Test Failed	[name]	[*args]','Run Keyword If Test Passed	[name]	[*args]','Run Keyword If Timeout Occurred	[name]	[*args]','Run Keyword Unless	[condition]	[name]	[*args]','Run Keywords	[*keywords]','Set Global Variable	[name]	[*values]','Set Library Search Order	[*search_order]','Set Log Level	[level]','Set Suite Documentation	[doc]	[append=False]	[top=False]','Set Suite Metadata	[name]	[value]	[append=False]	[top=False]','Set Suite Variable	[name]	[*values]','Set Tags	[*tags]','Set Test Documentation	[doc]	[append=False]','Set Test Message	[message]	[append=False]','Set Test Variable	[name]	[*values]','Set Variable	[*values]','Set Variable If	[condition]	[*values]','Should Be Empty	[item]	[msg=None]','Should Be Equal	[first]	[second]	[msg=None]	[values=True]	[ignore_case=False]','Should Be Equal As Integers	[first]	[second]	[msg=None]	[values=True]	[base=None]','Should Be Equal As Numbers	[first]	[second]	[msg=None]	[values=True]	[precision=6]','Should Be Equal As Strings	[first]	[second]	[msg=None]	[values=True]	[ignore_case=False]','Should Be True	[condition]	[msg=None]','Should Contain	[container]	[item]	[msg=None]	[values=True]	[ignore_case=False]','Should Contain Any	[container]	[*items]	[**configuration]','Should Contain X Times	[item1]	[item2]	[count]	[msg=None]	[ignore_case=False]','Should End With	[str1]	[str2]	[msg=None]	[values=True]	[ignore_case=False]','Should Match	[string]	[pattern]	[msg=None]	[values=True]	[ignore_case=False]','Should Match Regexp	[string]	[pattern]	[msg=None]	[values=True]','Should Not Be Empty	[item]	[msg=None]','Should Not Be Equal	[first]	[second]	[msg=None]	[values=True]	[ignore_case=False]','Should Not Be Equal As Integers	[first]	[second]	[msg=None]	[values=True]	[base=None]','Should Not Be Equal As Numbers	[first]	[second]	[msg=None]	[values=True]	[precision=6]','Should Not Be Equal As Strings	[first]	[second]	[msg=None]	[values=True]	[ignore_case=False]','Should Not Be True	[condition]	[msg=None]','Should Not Contain	[container]	[item]	[msg=None]	[values=True]	[ignore_case=False]','Should Not Contain Any	[container]	[*items]	[**configuration]','Should Not End With	[str1]	[str2]	[msg=None]	[values=True]	[ignore_case=False]','Should Not Match	[string]	[pattern]	[msg=None]	[values=True]	[ignore_case=False]','Should Not Match Regexp	[string]	[pattern]	[msg=None]	[values=True]','Should Not Start With	[str1]	[str2]	[msg=None]	[values=True]	[ignore_case=False]','Should Start With	[str1]	[str2]	[msg=None]	[values=True]	[ignore_case=False]','Sleep	[time_]	[reason=None]','Variable Should Exist	[name]	[msg=None]','Variable Should Not Exist	[name]	[msg=None]','Wait Until Keyword Succeeds	[retry]	[retry_interval]	[name]	[*args]'];
  var rf_Collections_args = ['Append To List	[list_]	[*values]','Combine Lists	[*lists]','Convert To Dictionary	[item]','Convert To List	[item]','Copy Dictionary	[dictionary]','Copy List	[list_]','Count Values In List	[list_]	[value]	[start=0]	[end=None]','Dictionaries Should Be Equal	[dict1]	[dict2]	[msg=None]	[values=True]','Dictionary Should Contain Item	[dictionary]	[key]	[value]	[msg=None]','Dictionary Should Contain Key	[dictionary]	[key]	[msg=None]','Dictionary Should Contain Sub Dictionary	[dict1]	[dict2]	[msg=None]	[values=True]','Dictionary Should Contain Value	[dictionary]	[value]	[msg=None]','Dictionary Should Not Contain Key	[dictionary]	[key]	[msg=None]','Dictionary Should Not Contain Value	[dictionary]	[value]	[msg=None]','Get Dictionary Items	[dictionary]','Get Dictionary Keys	[dictionary]','Get Dictionary Values	[dictionary]','Get From Dictionary	[dictionary]	[key]','Get From List	[list_]	[index]','Get Index From List	[list_]	[value]	[start=0]	[end=None]','Get Match Count	[list]	[pattern]	[case_insensitive=False]	[whitespace_insensitive=False]','Get Matches	[list]	[pattern]	[case_insensitive=False]	[whitespace_insensitive=False]','Get Slice From List	[list_]	[start=0]	[end=None]','Insert Into List	[list_]	[index]	[value]','Keep In Dictionary	[dictionary]	[*keys]','List Should Contain Sub List	[list1]	[list2]	[msg=None]	[values=True]','List Should Contain Value	[list_]	[value]	[msg=None]','List Should Not Contain Duplicates	[list_]	[msg=None]','List Should Not Contain Value	[list_]	[value]	[msg=None]','Lists Should Be Equal	[list1]	[list2]	[msg=None]	[values=True]	[names=None]','Log Dictionary	[dictionary]	[level=INFO]','Log List	[list_]	[level=INFO]','Pop From Dictionary	[dictionary]	[key]	[default=]','Remove Duplicates	[list_]','Remove From Dictionary	[dictionary]	[*keys]','Remove From List	[list_]	[index]','Remove Values From List	[list_]	[*values]','Reverse List	[list_]','Set List Value	[list_]	[index]	[value]','Set To Dictionary	[dictionary]	[*key_value_pairs]	[**items]','Should Contain Match	[list]	[pattern]	[msg=None]	[case_insensitive=False]	[whitespace_insensitive=False]','Should Not Contain Match	[list]	[pattern]	[msg=None]	[case_insensitive=False]	[whitespace_insensitive=False]','Sort List	[list_]'];
  var rf_String_args = ['Convert To Lowercase	[string]','Convert To Uppercase	[string]','Decode Bytes To String	[bytes]	[encoding]	[errors=strict]','Encode String To Bytes	[string]	[encoding]	[errors=strict]','Fetch From Left	[string]	[marker]','Fetch From Right	[string]	[marker]','Generate Random String	[length=8]	[chars=[LETTERS][NUMBERS]]','Get Line	[string]	[line_number]','Get Line Count	[string]','Get Lines Containing String	[string]	[pattern]	[case_insensitive=False]','Get Lines Matching Pattern	[string]	[pattern]	[case_insensitive=False]','Get Lines Matching Regexp	[string]	[pattern]	[partial_match=False]','Get Regexp Matches	[string]	[pattern]	[*groups]','Get Substring	[string]	[start]	[end=None]','Remove String	[string]	[*removables]','Remove String Using Regexp	[string]	[*patterns]','Replace String	[string]	[search_for]	[replace_with]	[count=-1]','Replace String Using Regexp	[string]	[pattern]	[replace_with]	[count=-1]','Should Be Byte String	[item]	[msg=None]','Should Be Lowercase	[string]	[msg=None]','Should Be String	[item]	[msg=None]','Should Be Titlecase	[string]	[msg=None]','Should Be Unicode String	[item]	[msg=None]','Should Be Uppercase	[string]	[msg=None]','Should Not Be String	[item]	[msg=None]','Split String	[string]	[separator=None]	[max_split=-1]','Split String From Right	[string]	[separator=None]	[max_split=-1]','Split String To Characters	[string]','Split To Lines	[string]	[start=0]	[end=None]','Strip String	[string]	[mode=both]	[characters=None]'];
  var rf_Screenshot_args = ['Set Screenshot Directory	[path]','Take Screenshot	[name=screenshot]	[width=800px]','Take Screenshot Without Embedding	[name=screenshot]'];
  var rf_DateTime_args = ['Add Time To Date	[date]	[time]	[result_format=timestamp]	[exclude_millis=False]	[date_format=None]','Add Time To Time	[time1]	[time2]	[result_format=number]	[exclude_millis=False]','Convert Date	[date]	[result_format=timestamp]	[exclude_millis=False]	[date_format=None]','Convert Time	[time]	[result_format=number]	[exclude_millis=False]','Get Current Date	[time_zone=local]	[increment=0]	[result_format=timestamp]	[exclude_millis=False]','Subtract Date From Date	[date1]	[date2]	[result_format=number]	[exclude_millis=False]	[date1_format=None]	[date2_format=None]','Subtract Time From Date	[date]	[time]	[result_format=timestamp]	[exclude_millis=False]	[date_format=None]','Subtract Time From Time	[time1]	[time2]	[result_format=number]	[exclude_millis=False]'];
  var rf_SeleniumLibrary_args = ['Add Cookie	[name]	[value]	[path=None]	[domain=None]	[secure=None]	[expiry=None]','Add Location Strategy	[strategy_name]	[strategy_keyword]	[persist=False]','Alert Should Be Present	[text=]	[action=ACCEPT]	[timeout=None]','Alert Should Not Be Present	[action=ACCEPT]	[timeout=0]','Assign Id To Element	[locator]	[id]','Capture Page Screenshot	[filename=selenium-screenshot-{index}.png]','Checkbox Should Be Selected	[locator]','Checkbox Should Not Be Selected	[locator]','Choose Cancel On Next Confirmation','Choose File	[locator]	[file_path]','Choose Ok On Next Confirmation','Clear Element Text	[locator]','Click Button	[locator]','Click Element	[locator]','Click Element At Coordinates	[locator]	[xoffset]	[yoffset]','Click Image	[locator]','Click Link	[locator]','Close All Browsers','Close Browser','Close Window','Confirm Action','Create Webdriver	[driver_name]	[alias=None]	[kwargs={}]	[**init_kwargs]','Current Frame Contains	[text]	[loglevel=INFO]','Current Frame Should Contain	[text]	[loglevel=INFO]','Current Frame Should Not Contain	[text]	[loglevel=INFO]','Delete All Cookies','Delete Cookie	[name]','Dismiss Alert	[accept=True]','Double Click Element	[locator]','Drag And Drop	[locator]	[target]','Drag And Drop By Offset	[locator]	[xoffset]	[yoffset]','Element Should Be Disabled	[locator]','Element Should Be Enabled	[locator]','Element Should Be Focused	[locator]','Element Should Be Visible	[locator]	[message=None]','Element Should Contain	[locator]	[expected]	[message=None]	[ignore_case=False]','Element Should Not Be Visible	[locator]	[message=None]','Element Should Not Contain	[locator]	[expected]	[message=None]	[ignore_case=False]','Element Text Should Be	[locator]	[expected]	[message=None]	[ignore_case=False]','Element Text Should Not Be	[locator]	[not_expected]	[message=None]	[ignore_case=False]','Execute Async Javascript	[*code]','Execute Javascript	[*code]','Focus	[locator]','Frame Should Contain	[locator]	[text]	[loglevel=INFO]','Get Alert Message	[dismiss=True]','Get All Links','Get Cookie	[name]','Get Cookie Value	[name]','Get Cookies','Get Element Attribute	[locator]	[attribute=None]','Get Element Count	[locator]','Get Element Size	[locator]','Get Horizontal Position	[locator]','Get List Items	[locator]	[values=False]','Get Location','Get Locations','Get Matching Xpath Count	[xpath]	[return_str=True]','Get Selected List Label	[locator]','Get Selected List Labels	[locator]','Get Selected List Value	[locator]','Get Selected List Values	[locator]','Get Selenium Implicit Wait','Get Selenium Speed','Get Selenium Timeout','Get Source','Get Table Cell	[locator]	[row]	[column]	[loglevel=INFO]','Get Text	[locator]','Get Title','Get Value	[locator]','Get Vertical Position	[locator]','Get WebElement	[locator]','Get WebElements	[locator]','Get Window Handles','Get Window Identifiers','Get Window Names','Get Window Position','Get Window Size','Get Window Titles','Go Back','Go To	[url]','Handle Alert	[action=ACCEPT]	[timeout=None]','Input Password	[locator]	[password]','Input Text	[locator]	[text]','Input Text Into Alert	[text]	[action=ACCEPT]	[timeout=None]','Input Text Into Prompt	[text]','List Selection Should Be	[locator]	[*expected]','List Should Have No Selections	[locator]','List Windows','Location Should Be	[url]','Location Should Contain	[expected]','Locator Should Match X Times	[locator]	[x]	[message=None]	[loglevel=INFO]','Log Location','Log Source	[loglevel=INFO]','Log Title','Maximize Browser Window','Mouse Down	[locator]','Mouse Down On Image	[locator]','Mouse Down On Link	[locator]','Mouse Out	[locator]','Mouse Over	[locator]','Mouse Up	[locator]','Open Browser	[url]	[browser=firefox]	[alias=None]	[remote_url=False]	[desired_capabilities=None]	[ff_profile_dir=None]','Open Context Menu	[locator]','Page Should Contain	[text]	[loglevel=INFO]','Page Should Contain Button	[locator]	[message=None]	[loglevel=INFO]','Page Should Contain Checkbox	[locator]	[message=None]	[loglevel=INFO]','Page Should Contain Element	[locator]	[message=None]	[loglevel=INFO]	[limit=None]','Page Should Contain Image	[locator]	[message=None]	[loglevel=INFO]','Page Should Contain Link	[locator]	[message=None]	[loglevel=INFO]','Page Should Contain List	[locator]	[message=None]	[loglevel=INFO]','Page Should Contain Radio Button	[locator]	[message=None]	[loglevel=INFO]','Page Should Contain Textfield	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain	[text]	[loglevel=INFO]','Page Should Not Contain Button	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain Checkbox	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain Element	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain Image	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain Link	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain List	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain Radio Button	[locator]	[message=None]	[loglevel=INFO]','Page Should Not Contain Textfield	[locator]	[message=None]	[loglevel=INFO]','Press Key	[locator]	[key]','Radio Button Should Be Set To	[group_name]	[value]','Radio Button Should Not Be Selected	[group_name]','Register Keyword To Run On Failure	[keyword]','Reload Page','Remove Location Strategy	[strategy_name]','Select All From List	[locator]','Select Checkbox	[locator]','Select Frame	[locator]','Select From List	[locator]	[*options]','Select From List By Index	[locator]	[*indexes]','Select From List By Label	[locator]	[*labels]','Select From List By Value	[locator]	[*values]','Select Radio Button	[group_name]	[value]','Select Window	[locator=MAIN]','Set Browser Implicit Wait	[value]','Set Focus To Element	[locator]','Set Screenshot Directory	[path]	[persist=DEPRECATED]','Set Selenium Implicit Wait	[value]','Set Selenium Speed	[value]','Set Selenium Timeout	[value]','Set Window Position	[x]	[y]','Set Window Size	[width]	[height]','Simulate	[locator]	[event]','Simulate Event	[locator]	[event]','Submit Form	[locator=None]','Switch Browser	[index_or_alias]','Table Cell Should Contain	[locator]	[row]	[column]	[expected]	[loglevel=INFO]','Table Column Should Contain	[locator]	[column]	[expected]	[loglevel=INFO]','Table Footer Should Contain	[locator]	[expected]	[loglevel=INFO]','Table Header Should Contain	[locator]	[expected]	[loglevel=INFO]','Table Row Should Contain	[locator]	[row]	[expected]	[loglevel=INFO]','Table Should Contain	[locator]	[expected]	[loglevel=INFO]','Textarea Should Contain	[locator]	[expected]	[message=None]','Textarea Value Should Be	[locator]	[expected]	[message=None]','Textfield Should Contain	[locator]	[expected]	[message=None]','Textfield Value Should Be	[locator]	[expected]	[message=None]','Title Should Be	[title]	[message=None]','Unselect All From List	[locator]','Unselect Checkbox	[locator]','Unselect Frame','Unselect From List	[locator]	[*items]','Unselect From List By Index	[locator]	[*indexes]','Unselect From List By Label	[locator]	[*labels]','Unselect From List By Value	[locator]	[*values]','Wait For Condition	[condition]	[timeout=None]	[error=None]','Wait Until Element Contains	[locator]	[text]	[timeout=None]	[error=None]','Wait Until Element Does Not Contain	[locator]	[text]	[timeout=None]	[error=None]','Wait Until Element Is Enabled	[locator]	[timeout=None]	[error=None]','Wait Until Element Is Not Visible	[locator]	[timeout=None]	[error=None]','Wait Until Element Is Visible	[locator]	[timeout=None]	[error=None]','Wait Until Page Contains	[text]	[timeout=None]	[error=None]','Wait Until Page Contains Element	[locator]	[timeout=None]	[error=None]','Wait Until Page Does Not Contain	[text]	[timeout=None]	[error=None]','Wait Until Page Does Not Contain Element	[locator]	[timeout=None]	[error=None]','Xpath Should Match X Times	[xpath]	[x]	[message=None]	[loglevel=INFO]'];
  var rf_AppiumLibrary_args = ['Background App	[seconds=5]','Capture Page Screenshot	[filename=None]','Clear Text	[locator]','Click A Point	[x=0]	[y=0]	[duration=100]','Click Button	[index_or_name]','Click Element	[locator]','Click Element At Coordinates	[coordinate_X]	[coordinate_Y]','Click Text	[text]	[exact_match=False]','Close All Applications','Close Application','Element Attribute Should Match	[locator]	[attr_name]	[match_pattern]	[regexp=False]','Element Name Should Be	[locator]	[expected]','Element Should Be Disabled	[locator]	[loglevel=INFO]','Element Should Be Enabled	[locator]	[loglevel=INFO]','Element Should Be Visible	[locator]	[loglevel=INFO]','Element Should Contain Text	[locator]	[expected]	[message=]','Element Should Not Contain Text	[locator]	[expected]	[message=]','Element Text Should Be	[locator]	[expected]	[message=]','Element Value Should Be	[locator]	[expected]','Get Activity','Get Appium SessionId','Get Appium Timeout','Get Capability	[capability_name]','Get Contexts','Get Current Context','Get Element Attribute	[locator]	[attribute]','Get Element Location	[locator]','Get Element Size	[locator]','Get Matching Xpath Count	[xpath]','Get Network Connection Status','Get Source','Get Text	[locator]','Get Webelement	[locator]','Get Webelements	[locator]','Get Window Height','Get Window Width','Go Back','Go To Url	[url]','Hide Keyboard	[key_name=None]','Input Password	[locator]	[text]','Input Text	[locator]	[text]','Input Value	[locator]	[text]','Install App	[app_path]	[app_package]','Landscape','Launch Application','Lock	[seconds=5]','Log Source	[loglevel=INFO]','Long Press	[locator]','Long Press Keycode	[keycode]	[metastate=None]','Open Application	[remote_url]	[alias=None]	[**kwargs]','Page Should Contain Element	[locator]	[loglevel=INFO]','Page Should Contain Text	[text]	[loglevel=INFO]','Page Should Not Contain Element	[locator]	[loglevel=INFO]','Page Should Not Contain Text	[text]	[loglevel=INFO]','Pinch	[locator]	[percent=200%]	[steps=1]','Portrait','Press Keycode	[keycode]	[metastate=None]','Pull File	[path]	[decode=False]','Pull Folder	[path]	[decode=False]','Push File	[path]	[data]	[encode=False]','Quit Application','Register Keyword To Run On Failure	[keyword]','Remove Application	[application_id]','Reset Application','Scroll	[start_locator]	[end_locator]','Scroll Down	[locator]','Scroll Up	[locator]','Set Appium Timeout	[seconds]','Set Network Connection Status	[connectionStatus]','Shake','Start Activity	[appPackage]	[appActivity]	[**opts]','Swipe	[start_x]	[start_y]	[offset_x]	[offset_y]	[duration=1000]','Swipe By Percent	[start_x]	[start_y]	[end_x]	[end_y]	[duration=1000]','Switch Application	[index_or_alias]','Switch To Context	[context_name]','Tap	[locator]	[x_offset=None]	[y_offset=None]	[count=1]','Text Should Be Visible	[text]	[exact_match=False]	[loglevel=INFO]','Wait Activity	[activity]	[timeout]	[interval=1]','Wait Until Element Is Visible	[locator]	[timeout=None]	[error=None]','Wait Until Page Contains	[text]	[timeout=None]	[error=None]','Wait Until Page Contains Element	[locator]	[timeout=None]	[error=None]','Wait Until Page Does Not Contain	[text]	[timeout=None]	[error=None]','Wait Until Page Does Not Contain Element	[locator]	[timeout=None]	[error=None]','Xpath Should Match X Times	[xpath]	[count]	[error=None]	[loglevel=INFO]','Zoom	[locator]	[percent=200%]	[steps=1]'];
  var rf_RequestsLibrary_args = ['Create Digest Session	[alias]	[url]	[auth]	[headers={}]	[cookies=None]	[timeout=None]	[proxies=None]	[verify=False]	[debug=0]	[max_retries=3]	[backoff_factor=0.1]	[disable_warnings=0]','Create Ntlm Session	[alias]	[url]	[auth]	[headers={}]	[cookies=None]	[timeout=None]	[proxies=None]	[verify=False]	[debug=0]	[max_retries=3]	[backoff_factor=0.1]	[disable_warnings=0]','Create Session	[alias]	[url]	[headers={}]	[cookies=None]	[auth=None]	[timeout=None]	[proxies=None]	[verify=False]	[debug=0]	[max_retries=3]	[backoff_factor=0.1]	[disable_warnings=0]','Delete	[alias]	[uri]	[data=()]	[headers=None]	[allow_redirects=None]	[timeout=None]','Delete All Sessions','Delete Request	[alias]	[uri]	[data=()]	[params=None]	[headers=None]	[allow_redirects=None]	[timeout=None]','Get	[alias]	[uri]	[params=None]	[headers=None]	[allow_redirects=None]	[timeout=None]','Get Request	[alias]	[uri]	[headers=None]	[json=None]	[params=None]	[allow_redirects=None]	[timeout=None]','Head	[alias]	[uri]	[headers=None]	[allow_redirects=None]	[timeout=None]','Head Request	[alias]	[uri]	[headers=None]	[allow_redirects=None]	[timeout=None]','Options	[alias]	[uri]	[headers=None]	[allow_redirects=None]	[timeout=None]','Options Request	[alias]	[uri]	[headers=None]	[allow_redirects=None]	[timeout=None]','Patch	[alias]	[uri]	[data={}]	[headers=None]	[files={}]	[allow_redirects=None]	[timeout=None]','Patch Request	[alias]	[uri]	[data=None]	[params=None]	[headers=None]	[files=None]	[allow_redirects=None]	[timeout=None]','Post	[alias]	[uri]	[data={}]	[headers=None]	[files=None]	[allow_redirects=None]	[timeout=None]','Post Request	[alias]	[uri]	[data=None]	[params=None]	[headers=None]	[files=None]	[allow_redirects=None]	[timeout=None]','Put	[alias]	[uri]	[data=None]	[headers=None]	[allow_redirects=None]	[timeout=None]','Put Request	[alias]	[uri]	[data=None]	[params=None]	[files=None]	[headers=None]	[allow_redirects=None]	[timeout=None]','To Json	[content]	[pretty_print=False]'];
  var rf_Process_args = ['Get Process Id	[handle=None]','Get Process Object	[handle=None]','Get Process Result	[handle=None]	[rc=False]	[stdout=False]	[stderr=False]	[stdout_path=False]	[stderr_path=False]','Is Process Running	[handle=None]','Join Command Line	[*args]','Process Should Be Running	[handle=None]	[error_message=Process is not running.]','Process Should Be Stopped	[handle=None]	[error_message=Process is running.]','Run Process	[command]	[*arguments]	[**configuration]','Send Signal To Process	[signal]	[handle=None]	[group=False]','Split Command Line	[args]	[escaping=False]','Start Process	[command]	[*arguments]	[**configuration]','Switch Process	[handle]','Terminate All Processes	[kill=False]','Terminate Process	[handle=None]	[kill=False]','Wait For Process	[handle=None]	[timeout=None]	[on_timeout=continue]'];
  var rf_Telnet_args = ['Close All Connections','Close Connection	[loglevel=None]','Execute Command	[command]	[loglevel=None]	[strip_prompt=False]','Login	[username]	[password]	[login_prompt=login: ]	[password_prompt=Password: ]	[login_timeout=1 second]	[login_incorrect=Login incorrect]','Open Connection	[host]	[alias=None]	[port=23]	[timeout=None]	[newline=None]	[prompt=None]	[prompt_is_regexp=False]	[encoding=None]	[encoding_errors=None]	[default_log_level=None]	[window_size=None]	[environ_user=None]	[terminal_emulation=None]	[terminal_type=None]	[telnetlib_log_level=None]	[connection_timeout=None]','Read	[loglevel=None]','Read Until	[expected]	[loglevel=None]','Read Until Prompt	[loglevel=None]	[strip_prompt=False]','Read Until Regexp	[*expected]','Set Default Log Level	[level]','Set Encoding	[encoding=None]	[errors=None]','Set Newline	[newline]','Set Prompt	[prompt]	[prompt_is_regexp=False]','Set Telnetlib Log Level	[level]','Set Timeout	[timeout]','Switch Connection	[index_or_alias]','Write	[text]	[loglevel=None]','Write Bare	[text]','Write Control Character	[character]','Write Until Expected Output	[text]	[expected]	[timeout]	[retry_interval]	[loglevel=None]'];
  var rf_OperatingSystem_args = ['Append To Environment Variable	[name]	[*values]	[**config]','Append To File	[path]	[content]	[encoding=UTF-8]','Copy Directory	[source]	[destination]','Copy File	[source]	[destination]','Copy Files	[*sources_and_destination]','Count Directories In Directory	[path]	[pattern=None]','Count Files In Directory	[path]	[pattern=None]','Count Items In Directory	[path]	[pattern=None]','Create Binary File	[path]	[content]','Create Directory	[path]','Create File	[path]	[content=]	[encoding=UTF-8]','Directory Should Be Empty	[path]	[msg=None]','Directory Should Exist	[path]	[msg=None]','Directory Should Not Be Empty	[path]	[msg=None]','Directory Should Not Exist	[path]	[msg=None]','Empty Directory	[path]','Environment Variable Should Be Set	[name]	[msg=None]','Environment Variable Should Not Be Set	[name]	[msg=None]','File Should Be Empty	[path]	[msg=None]','File Should Exist	[path]	[msg=None]','File Should Not Be Empty	[path]	[msg=None]','File Should Not Exist	[path]	[msg=None]','Get Binary File	[path]','Get Environment Variable	[name]	[default=None]','Get Environment Variables','Get File	[path]	[encoding=UTF-8]	[encoding_errors=strict]','Get File Size	[path]','Get Modified Time	[path]	[format=timestamp]','Grep File	[path]	[pattern]	[encoding=UTF-8]	[encoding_errors=strict]','Join Path	[base]	[*parts]','Join Paths	[base]	[*paths]','List Directories In Directory	[path]	[pattern=None]	[absolute=False]','List Directory	[path]	[pattern=None]	[absolute=False]','List Files In Directory	[path]	[pattern=None]	[absolute=False]','Log Environment Variables	[level=INFO]','Log File	[path]	[encoding=UTF-8]	[encoding_errors=strict]','Move Directory	[source]	[destination]','Move File	[source]	[destination]','Move Files	[*sources_and_destination]','Normalize Path	[path]','Remove Directory	[path]	[recursive=False]','Remove Environment Variable	[*names]','Remove File	[path]','Remove Files	[*paths]','Run	[command]','Run And Return Rc	[command]','Run And Return Rc And Output	[command]','Set Environment Variable	[name]	[value]','Set Modified Time	[path]	[mtime]','Should Exist	[path]	[msg=None]','Should Not Exist	[path]	[msg=None]','Split Extension	[path]','Split Path	[path]','Touch	[path]','Wait Until Created	[path]	[timeout=1 minute]','Wait Until Removed	[path]	[timeout=1 minute]'];
  var rf_lym_keywords_args = rf_BuiltIn_args.concat(rf_Collections_args,
    rf_String_args,
    rf_Screenshot_args,
    rf_DateTime_args,
    rf_SeleniumLibrary_args,
    rf_AppiumLibrary_args,
    rf_RequestsLibrary_args,
    rf_Process_args,
    rf_Telnet_args,
    rf_OperatingSystem_args
    );
  //

  CodeMirror.registerHelper("hintWords", "robot", rf_lym_keywords_args);

  return {
    token: function(stream, state) {
      var ch = stream.peek();
      var esc = state.escaped;
      state.escaped = false;

      /*robot framework start*/
      if (stream.match(/(Library|Suite Setup|Suite Teardown|Documentation|Force Tags|Metadata|Test Setup|Test Template|Resource)/))
        return "string-2";

      if (stream.match(/\[.+?\]/))
        return "variable-3";

      if (stream.match(/[\$|&|@]\{[A-Za-z0-9_ ]+\}/))
        return "variable";

      if (stream.match(robot_keywords_reg))
        return "keyword";

      if (stream.match("*** Settings ***") ||
        stream.match("*** Variables ***")  ||
        stream.match("*** Test Cases ***") ||
        stream.match("*** Keywords ***"))
        return "property";

      /*robot framework end*/

      /* comments */
      if (ch == "#" && (stream.pos == 0 || /\s/.test(stream.string.charAt(stream.pos - 1)))) {
        stream.skipToEnd();
        return "comment";
      }

      if (stream.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))
        return "string";

      if (state.literal && stream.indentation() > state.keyCol) {
        stream.skipToEnd(); return "string";
      } else if (state.literal) { state.literal = false; }
      if (stream.sol()) {
        state.keyCol = 0;
        state.pair = false;
        state.pairStart = false;
        /* document start */
        if(stream.match(/---/)) { return "def"; }
        /* document end */
        if (stream.match(/\.\.\./)) { return "def"; }
        /* array list item */
        if (stream.match(/\s*-\s+/)) { return 'meta'; }
      }
      /* inline pairs/lists */
      if (stream.match(/^(\{|\}|\[|\])/)) {
        if (ch == '{')
          state.inlinePairs++;
        else if (ch == '}')
          state.inlinePairs--;
        else if (ch == '[')
          state.inlineList++;
        else
          state.inlineList--;
        return 'meta';
      }

      /* list seperator */
      if (state.inlineList > 0 && !esc && ch ==',') {
        stream.next();
        return 'meta';
      }
      /* pairs seperator */
      if (state.inlinePairs > 0 && !esc && ch ==',') {
        state.keyCol = 0;
        state.pair = false;
        state.pairStart = false;
        stream.next();
        return 'meta';
      }

      /* start of value of a pair */
      if (state.pairStart) {
        /* block literals */
        if (stream.match(/^\s*(\||\>)\s*/)) { state.literal = true; return 'meta'; };
        /* references */
        if (stream.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i)) { return 'variable-2'; }
        /* numbers */
        if (state.inlinePairs == 0 && stream.match(/^\s*-?[0-9\.\,]+\s?$/)) { return 'number'; }
        if (state.inlinePairs > 0 && stream.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/)) { return 'number'; }
        /* keywords */
        if (stream.match(keywordRegex)) { return 'keyword'; }
      }

      /* pairs (associative arrays) -> key */
      if (!state.pair && stream.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)) {
        state.pair = true;
        state.keyCol = stream.indentation();
        return "atom";
      }
      if (state.pair && stream.match(/^:\s*/)) { state.pairStart = true; return 'meta'; }

      /* nothing found, continue */
      state.pairStart = false;
      state.escaped = (ch == '\\');
      stream.next();
      return null;
    },
    startState: function() {
      return {
        pair: false,
        pairStart: false,
        keyCol: 0,
        inlinePairs: 0,
        inlineList: 0,
        literal: false,
        escaped: false
      };
    },
    lineComment: "#"
  };
});

CodeMirror.defineMIME("text/x-robot", "robot");
CodeMirror.defineMIME("text/robot", "robot");

});
